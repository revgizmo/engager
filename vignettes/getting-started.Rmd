---
title: "Getting Started with engager"
author: "engager package"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with engager}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 7,
  fig.height = 5
)
```

```{r setup}
library(engager)
library(dplyr)
library(ggplot2)
```

# Getting Started with engager

The `engager` package helps instructors analyze student engagement from Zoom transcripts, with a particular focus on participation equity. This vignette will get you started with the basic workflow.

## Installation

Install the package from GitHub:

```{r eval = FALSE}
devtools::install_github("revgizmo/engager")
```

## Quick Start

Here's a minimal example to get you started:

```{r quick-start}
# Load a sample transcript
transcript_file <- system.file(
  "extdata/transcripts/GMT20240124-202901_Recording.transcript.vtt",
  package = "engager"
)

# Process the transcript
processed_transcript <- process_zoom_transcript(
  transcript_file_path = transcript_file,
  consolidate_comments = TRUE,
  add_dead_air = TRUE
)

# Calculate summary metrics
summary_metrics <- summarize_transcript_metrics(
  transcript_file_path = transcript_file,
  names_exclude = c("dead_air")
)

# View the results (privacy-safe by default)
head(summary_metrics)

# Validate for FERPA compliance
compliance_result <- validate_ferpa_compliance(summary_metrics)
cat("FERPA Compliance:", ifelse(compliance_result$compliant, "✅ Compliant", "⚠️  Issues found"), "\n")
```

## What the Package Does

The `engager` package provides tools for:

1. **Loading and Processing Zoom Transcripts**: Convert Zoom VTT files into analyzable data
2. **Calculating Engagement Metrics**: Measure participation by speaker/student
3. **Name Matching and Cleaning**: Match transcript names to student rosters
4. **Visualization**: Create plots to analyze participation patterns
5. **Reporting**: Generate individual student reports
6. **FERPA Compliance**: Validate and ensure compliance with educational privacy laws
7. **Data Anonymization**: Protect student privacy while preserving data utility

## Basic Workflow

The typical workflow involves:

1. **Setup**: Configure your analysis parameters and privacy settings
2. **Load Transcripts**: Import and process Zoom transcript files
3. **Load Roster**: Import student enrollment data
4. **Clean Names**: Match transcript names to student records
5. **Analyze**: Calculate metrics and create visualizations
6. **Validate**: Check FERPA compliance and anonymize data
7. **Report**: Generate insights and reports

## Troubleshooting Name Matching Issues

When working with Zoom transcripts and student rosters, you may encounter name matching issues. The package uses a privacy-first approach that stops processing when names cannot be safely matched.

### Common Issues and Solutions

#### Issue: "Found unmatched names" Error

This error occurs when names in your Zoom transcript don't match names in your student roster.

**Solution**: Create a `section_names_lookup.csv` file to map transcript names to roster names.

```{r name-matching-example}
# Example: Create name mappings
name_mappings <- data.frame(
  transcript_name = c("JS", "Dr. Smith", "Guest User"),
  preferred_name = c("John Smith", "John Smith", "GUEST_001"),
  stringsAsFactors = FALSE
)

# Write the mapping file
write_section_names_lookup(name_mappings, ".", "section_names_lookup.csv")
```

#### Issue: Guest Users in Transcripts

Zoom often shows "Guest User" or "Unknown User" for participants not signed in.

**Solution**: Map guest users to standardized identifiers.

```{r guest-users}
# Map guest users to consistent identifiers
guest_mappings <- data.frame(
  transcript_name = c("Guest User", "Unknown User", "Guest-1234"),
  preferred_name = c("GUEST_001", "GUEST_002", "GUEST_003"),
  stringsAsFactors = FALSE
)
```

#### Issue: Custom Names and Abbreviations

Students may use nicknames or abbreviations in Zoom.

**Solution**: Create mappings for all name variations.

```{r custom-names}
# Map custom names to official roster names
custom_mappings <- data.frame(
  transcript_name = c("JS", "JohnS", "jsmith"),
  preferred_name = c("John Smith", "John Smith", "John Smith"),
  stringsAsFactors = FALSE
)
```

### Getting Help

For detailed troubleshooting guidance:
- **See the troubleshooting vignette**: `vignette("name-matching-troubleshooting")`
- **Check the package documentation**: `?safe_name_matching_workflow`
- **Review example files**: See `inst/extdata/example_section_names_lookup.csv`

## Next Steps

- **For transcript processing**: See the [Transcript Processing](transcript-processing.html) vignette
- **For roster management**: See the [Roster Cleaning](roster-cleaning.html) vignette  
- **For visualization**: See the [Plotting and Analysis](plotting.html) vignette
- **For advanced workflows**: See the [Session Mapping](session-mapping.html) vignette
- **For name matching help**: See the [Name Matching Troubleshooting](name-matching-troubleshooting.html) vignette
- **For FERPA compliance**: See the [FERPA Compliance & Ethical Use](ferpa-ethics.html) vignette

## Getting Help

- Check the [package documentation](https://revgizmo.github.io/engager/)
- Review the [PROJECT.md](https://github.com/revgizmo/engager_cursor/blob/main/PROJECT.md) for current development status
- Report issues on [GitHub](https://github.com/revgizmo/engager_cursor/issues)
