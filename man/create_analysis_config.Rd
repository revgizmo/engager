% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_analysis_config.R
\name{create_analysis_config}
\alias{create_analysis_config}
\title{Create Analysis Configuration}
\usage{
create_analysis_config(
  dept = "LTF",
  semester_start_mdy = "Jan 01, 2024",
  scheduled_session_length_hours = 1.5,
  instructor_name = "Conor Healy",
  data_folder = system.file("extdata", package = "zoomstudentengagement"),
  transcripts_folder = "transcripts",
  roster_file = "roster.csv",
  cancelled_classes_file = "cancelled_classes.csv",
  names_lookup_file = "section_names_lookup.csv",
  trnscrptssssnsmmryfl = "transcripts_session_summary.csv",
  transcripts_summary_file = "transcripts_summary.csv",
  student_summary_report = "Zoom_Student_Engagement_Analysis_student_summary_report",
  student_summary_report_folder = system.file("", package = "zoomstudentengagement"),
  topic_split_pattern = paste0("^(?<dept>\\\\S+) (?<section>\\\\S+) - ",
    "(?<day>[A-Za-z]+) (?<time>\\\\S+\\\\s*\\\\S+) (?<instructor>\\\\(.*?\\\\))"),
  zmrcrddsssnscsvnmspttrn =
    "zoomus_recordings__\\\\d{8}(?:\\\\s+copy\\\\s*\\\\d*)?\\\\.csv",
  zmrcrddsssnscsvclnms = paste0("Topic,ID,Start Time,File Size (MB),File Count,",
    "Total Views,Total Downloads,Last Accessed"),
  transcript_files_names_pattern = "GMT\\\\d{8}-\\\\d{6}_Recording",
  dt_extract_pattern = "(?<=GMT)\\\\d{8}",
  trnscrptflxtnsnpttrn = ".transcript",
  clsdcptnflxtnsnpttrn = ".cc",
  recording_start_pattern = "(?<=GMT)\\\\d{8}-\\\\d{6}",
  recording_start_format = "\%Y\%m\%d-\%H\%M\%S",
  start_time_local_tzone = "America/Los_Angeles",
  cancelled_classes_col_types = "ciiiccccccdiiicTTcTTccci",
  section_names_lookup_col_types = "ccccccccc",
  names_to_exclude = NULL,
  use_session_mapping = FALSE,
  session_mapping_file = "session_mapping.csv"
)
}
\arguments{
\item{dept}{Department code (e.g., "LTF", "MATH", "CS"). Used to filter Zoom recordings.}

\item{semester_start_mdy}{Semester start date in "MMM DD, YYYY" format (e.g., "Jan 01, 2024").}

\item{scheduled_session_length_hours}{Scheduled length of each class session in hours.}

\item{instructor_name}{Name of the instructor for filtering and reporting.}

\item{data_folder}{Overall data folder for recordings and data files.}

\item{transcripts_folder}{Subfolder within data_folder where transcript files are stored.}

\item{roster_file}{Name of the CSV file containing student roster information.}

\item{cancelled_classes_file}{Name of the CSV file containing cancelled class information.}

\item{names_lookup_file}{Name of the CSV file containing section names lookup information.}

\item{trnscrptssssnsmmryfl}{Name of the output CSV file for session-level summaries.}

\item{transcripts_summary_file}{Name of the output CSV file for overall summaries.}

\item{student_summary_report}{Base name for student summary report files.}

\item{student_summary_report_folder}{Folder where student summary report templates are stored.}

\item{topic_split_pattern}{Regex pattern to parse Zoom recording topics and extract course information.}

\item{zmrcrddsssnscsvnmspttrn}{Regex pattern to match Zoom cloud recording CSV files.}

\item{zmrcrddsssnscsvclnms}{Comma-separated column names for Zoom cloud recording CSVs.}

\item{transcript_files_names_pattern}{Regex pattern to match transcript file names.}

\item{dt_extract_pattern}{Regex pattern to extract date from transcript file names.}

\item{trnscrptflxtnsnpttrn}{Regex pattern to identify transcript files.}

\item{clsdcptnflxtnsnpttrn}{Regex pattern to identify closed caption files.}

\item{recording_start_pattern}{Regex pattern to extract recording start time from file names.}

\item{recording_start_format}{Format string for parsing recording start times.}

\item{start_time_local_tzone}{Local timezone for recording start times.}

\item{cancelled_classes_col_types}{Column types specification for cancelled classes CSV.}

\item{section_names_lookup_col_types}{Column types specification for section names lookup CSV.}

\item{names_to_exclude}{Character vector of names to exclude from analysis (e.g., "dead_air").}

\item{use_session_mapping}{If TRUE, use session mapping approach instead of regex parsing}

\item{session_mapping_file}{Path to session mapping CSV file (if use_session_mapping = TRUE)}
}
\value{
A list containing the configuration organized into logical groups:
\itemize{
\item course: Course-specific information
\item paths: File and folder paths
\item patterns: Regex patterns for file matching and parsing
\item reports: Report generation settings
\item analysis: Analysis-specific parameters
}
}
\description{
This function creates a validated configuration object for the zoomstudentengagement
package analysis workflow. It groups related parameters logically and provides
sensible defaults while allowing customization for different course setups.
}
\examples{
# Basic configuration with defaults
config <- create_analysis_config(
  dept = "LTF",
  instructor_name = "Dr. Smith",
  data_folder = "data"
)

# Custom configuration for different course setup
config <- create_analysis_config(
  dept = "MATH",
  semester_start_mdy = "Aug 28, 2024",
  scheduled_session_length_hours = 2.0,
  instructor_name = "Prof. Johnson",
  data_folder = "math_101_data",
  transcripts_folder = "zoom_recordings",
  start_time_local_tzone = "America/New_York"
)

# Use configuration in analysis workflow
zoom_recorded_sessions_df <- load_zoom_recorded_sessions_list(
  data_folder = config$paths$data_folder,
  transcripts_folder = config$paths$transcripts_folder,
  topic_split_pattern = config$patterns$topic_split,
  zmrcrddsssnscsvnmspttrn = config$patterns$zoom_recordings_csv,
  dept = config$course$dept,
  semester_start_mdy = config$course$semester_start,
  scheduled_session_length_hours = config$course$session_length_hours
)
}
