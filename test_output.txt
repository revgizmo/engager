ℹ Testing engager
Welcome to engager!
- Start with: vignette('getting-started', package='engager')
- Core functions: vignette('essential-functions', package='engager')
- Sample data: system.file('extdata/transcripts', package='engager')
- Quick example: example(summarize_transcript_metrics)

To suppress this message: options(engager.show_startup = FALSE)

Attaching package: ‘lubridate’

The following objects are masked from ‘package:base’:

    date, intersect, setdiff, union

✔ | F W  S  OK | Context

⠏ |          0 | add_dead_air_rows                                              
⠇ |         29 | add_dead_air_rows                                              
✔ |         63 | add_dead_air_rows

⠏ |          0 | analyze_multi_session_attendance                               
⠸ |          4 | analyze_multi_session_attendance                               
✔ |         21 | analyze_multi_session_attendance

⠏ |          0 | analyze_transcripts                                            
⠋ |          1 | analyze_transcripts                                            
⠏ |         10 | analyze_transcripts                                            
⠧ |         18 | analyze_transcripts                                            
⠹ |      2  31 | analyze_transcripts                                            
⠴ |      3  43 | analyze_transcripts                                            
⠋ |      3  48 | analyze_transcripts                                            
⠦ |      4  53 | analyze_transcripts                                            
⠙ |      5  57 | analyze_transcripts                                            
⠼ |      5  60 | analyze_transcripts                                            
✔ |      7  70 | analyze_transcripts [1.5s]

⠏ |          0 | calculate_content_similarity                                   
✔ |          8 | calculate_content_similarity

⠏ |          0 | consolidate_transcript_segfault                                === Testing consolidate_transcript with minimal data ===
Input data dimensions: 3 x 8
Input data columns: transcript_file, comment_num, name, comment, start, end, duration, wordcount
Step 1: About to call consolidate_transcript...
Step 2: Calling consolidate_transcript...
Step 3: consolidate_transcript completed successfully
Result dimensions: 2 x 7
=== Testing consolidate_transcript with rlang::syms debugging ===
Step 1: Testing rlang::syms with dplyr::group_by...
Group vars: transcript_file, comment_num
Creating rlang::syms...
rlang::syms created successfully: list
Testing dplyr::group_by with rlang::syms...
dplyr::group_by with rlang::syms completed successfully
Step 2: Testing full consolidate_transcript function...
Step 3: Full function completed successfully

✔ |      2   0 | consolidate_transcript_segfault

⠏ |          0 | consolidate_transcript-comprehensive                           
⠋ |         41 | consolidate_transcript-comprehensive                           
✔ |         56 | consolidate_transcript-comprehensive

⠏ |          0 | consolidate_transcript                                         
⠇ |         19 | consolidate_transcript                                         
✔ |         19 | consolidate_transcript

⠏ |          0 | create_analysis_config                                         
⠴ |         36 | create_analysis_config                                         
✔ |         42 | create_analysis_config

⠏ |          0 | create_course_info                                             
✔ |         16 | create_course_info

⠏ |          0 | create_session_mapping-coverage                                
✔ |         11 | create_session_mapping-coverage

⠏ |          0 | create_session_mapping                                         
⠴ |         26 | create_session_mapping                                         
⠹ |      3  50 | create_session_mapping                                         
⠏ |      3  87 | create_session_mapping                                         
⠼ |      3 112 | create_session_mapping                                         
✔ |      3 115 | create_session_mapping

⠏ |          0 | detect_duplicate_transcripts                                   
⠴ |         36 | detect_duplicate_transcripts                                   
⠧ |         48 | detect_duplicate_transcripts                                   
⠙ |         62 | detect_duplicate_transcripts                                   
⠼ |         85 | detect_duplicate_transcripts                                   
⠋ |        121 | detect_duplicate_transcripts                                   
✔ |   1    150 | detect_duplicate_transcripts [2.7s]
────────────────────────────────────────────────────────────────────────────────
Warning ('test-detect_duplicate_transcripts.R:743:3'): detect_duplicate_transcripts handles transcript loading errors gracefully
Could not load transcript: test1.vtt - Invalid VTT: expected 'WEBVTT', got 'This is not a valid VTT file'
Backtrace:
    ▆
 1. └─engager::detect_duplicate_transcripts(...) at test-detect_duplicate_transcripts.R:743:3
 2.   └─engager:::calc_content_similarity_matrix(...) at zoomstudentengagement/R/detect_duplicate_transcripts.R:204:5
 3.     └─base::tryCatch(...) at zoomstudentengagement/R/detect_duplicate_transcripts.R:70:5
 4.       └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 5.         └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 6.           └─value[[3L]](cond)
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | ensure_privacy-coverage                                        
✔ |          3 | ensure_privacy-coverage

⠏ |          0 | ensure_privacy                                                 
⠸ |   1     43 | ensure_privacy                                                 
✔ |   1     72 | ensure_privacy
────────────────────────────────────────────────────────────────────────────────
Warning ('test-ensure_privacy.R:67:3'): ensure_privacy handles different privacy levels
CRITICAL: Privacy disabled; outputs may contain identifiable data and violate FERPA requirements.
Backtrace:
    ▆
 1. └─engager::ensure_privacy(test_data, privacy_level = "none") at test-ensure_privacy.R:67:3
 2.   └─engager:::handle_privacy_level(...) at zoomstudentengagement/R/ensure_privacy.R:44:3
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | equity-boundary-cases                                          
⠸ |          4 | equity-boundary-cases                                          
⠦ |          7 | equity-boundary-cases                                          
⠋ |         11 | equity-boundary-cases                                          
⠼ |         15 | equity-boundary-cases                                          
⠏ |         20 | equity-boundary-cases                                          
⠸ |         24 | equity-boundary-cases                                          
⠦ |         27 | equity-boundary-cases                                          
⠇ |         29 | equity-boundary-cases                                          
⠏ |         30 | equity-boundary-cases                                          
⠹ |         33 | equity-boundary-cases                                          
⠦ |         37 | equity-boundary-cases                                          
⠏ |         40 | equity-boundary-cases                                          
⠸ |         44 | equity-boundary-cases                                          
✔ |         47 | equity-boundary-cases [1.6s]

⠏ |          0 | equity-failure-modes                                           
⠸ |          4 | equity-failure-modes                                           
⠧ |          8 | equity-failure-modes                                           
⠙ |         12 | equity-failure-modes                                           
⠏ |         20 | equity-failure-modes                                           
⠧ |         28 | equity-failure-modes                                           
⠹ |         33 | equity-failure-modes                                           
✔ |         35 | equity-failure-modes

⠏ |          0 | equity-validation                                              
⠴ |          6 | equity-validation                                              
⠙ |         12 | equity-validation                                              
⠦ |         17 | equity-validation                                              
⠸ |         24 | equity-validation                                              
⠏ |         30 | equity-validation                                              
⠼ |         35 | equity-validation                                              
⠏ |         40 | equity-validation                                              
⠼ |         45 | equity-validation                                              
⠙ |         52 | equity-validation                                              
⠴ |         56 | equity-validation                                              
⠧ |         58 | equity-validation                                              
✔ |         63 | equity-validation [1.4s]

⠏ |          0 | ethical_compliance                                             
⠙ |         42 | ethical_compliance                                             
✔ |         68 | ethical_compliance

⠏ |          0 | ferpa_compliance-issue310                                      
✔ |         19 | ferpa_compliance-issue310

⠏ |          0 | ferpa_compliance                                               
⠦ |         57 | ferpa_compliance                                               FERPA standard mode enabled; educational compliance protection applied.

✔ |   1     95 | ferpa_compliance
────────────────────────────────────────────────────────────────────────────────
Warning ('test-ferpa_compliance.R:338:3'): set_privacy_defaults handles multiple calls
Privacy disabled globally; outputs may contain identifiable data.
Backtrace:
    ▆
 1. └─engager:::set_privacy_defaults("none") at test-ferpa_compliance.R:338:3
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | hash_name_consistently-comprehensive                           
⠧ |         48 | hash_name_consistently-comprehensive                           
✔ |         74 | hash_name_consistently-comprehensive

⠏ |          0 | hash_name_consistently-coverage                                
✔ |          3 | hash_name_consistently-coverage

⠏ |          0 | hash_name_consistently                                         
✔ |         40 | hash_name_consistently

⠏ |          0 | ideal_course_transcripts                                       
⠇ |          9 | ideal_course_transcripts                                       Rows: 7 Columns: 4
-- Column specification --------------------------------------------------------
Delimiter: ","
chr (3): formal_name, preferred_name, transcript_names
num (1): attends_sessions

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.

✔ |         12 | ideal_course_transcripts

⠏ |          0 | ideal-course-integration                                       
✔ |         21 | ideal-course-integration

⠏ |          0 | ideal-export                                                   
✔ |         13 | ideal-export

⠏ |          0 | load_cancelled_classes-coverage                                
✔ |   2      6 | load_cancelled_classes-coverage
────────────────────────────────────────────────────────────────────────────────
Warning ('test-load_cancelled_classes-coverage.R:8:3'): load_cancelled_classes returns blank template when file missing
File does not exist: /var/folders/gm/wnk5gljx6yd_ffmqb8vf48qh0000gn/T//RtmpKEPupx/file996776d3092e/missing.csv
Backtrace:
    ▆
 1. └─engager:::load_cancelled_classes(data_folder = tmp, cancelled_classes_file = "missing.csv") at test-load_cancelled_classes-coverage.R:8:3

Warning ('test-load_cancelled_classes-coverage.R:17:3'): load_cancelled_classes can write blank template when requested
File does not exist: /var/folders/gm/wnk5gljx6yd_ffmqb8vf48qh0000gn/T//RtmpKEPupx/file99673c26efc1/new.csv
Backtrace:
    ▆
 1. └─engager:::load_cancelled_classes(...) at test-load_cancelled_classes-coverage.R:17:3
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | load_cancelled_classes                                         
✔ |   2     14 | load_cancelled_classes
────────────────────────────────────────────────────────────────────────────────
Warning ('test-load_cancelled_classes.R:24:3'): load_cancelled_classes returns blank tibble if file does not exist
File does not exist: /var/folders/gm/wnk5gljx6yd_ffmqb8vf48qh0000gn/T//RtmpKEPupx/nonexistent.csv
Backtrace:
    ▆
 1. └─engager:::load_cancelled_classes(...) at test-load_cancelled_classes.R:24:3

Warning ('test-load_cancelled_classes.R:60:3'): load_cancelled_classes creates blank file when write_blank_cancelled_classes is TRUE
File does not exist: /var/folders/gm/wnk5gljx6yd_ffmqb8vf48qh0000gn/T//RtmpKEPupx/new_cancelled_classes.csv
Backtrace:
    ▆
 1. └─engager:::load_cancelled_classes(...) at test-load_cancelled_classes.R:60:3
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | load_roster-schema                                             
✔ |          2 | load_roster-schema

⠏ |          0 | load_roster                                                    
✔ |         15 | load_roster

⠏ |          0 | load_session_mapping-comprehensive                             
⠧ |         38 | load_session_mapping-comprehensive                             
✔ |         40 | load_session_mapping-comprehensive

⠏ |          0 | load_session_mapping                                           
⠏ |   1     29 | load_session_mapping                                           
✔ |   2  1  33 | load_session_mapping
────────────────────────────────────────────────────────────────────────────────
Warning ('test-load_session_mapping.R:77:3'): load_session_mapping validates required columns
The following named parsers don't match the column names: course, section, session_date, session_time, instructor
Backtrace:
     ▆
  1. ├─testthat::expect_error(load_session_mapping(temp_file), "Session mapping file missing required columns") at test-load_session_mapping.R:77:3
  2. │ └─testthat:::expect_condition_matching(...)
  3. │   └─testthat:::quasi_capture(...)
  4. │     ├─testthat (local) .capture(...)
  5. │     │ └─base::withCallingHandlers(...)
  6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
  7. ├─engager:::load_session_mapping(temp_file)
  8. │ └─engager:::load_mapping_file(mapping_file) at zoomstudentengagement/R/load_session_mapping.R:80:3
  9. │   └─readr::read_csv(...) at zoomstudentengagement/R/load_session_mapping.R:28:3
 10. │     └─vroom::vroom(...)
 11. │       └─vroom:::vroom_(...)
 12. └─vroom (local) `<fn>`(`<col_spec>`, 2L, `<chr>`, NULL, "unique")

Warning ('test-load_session_mapping.R:283:7'): load_session_mapping shows validation warnings outside test environment
One or more parsing issues, call `problems()` on your data frame for details, e.g.:
  dat <- vroom(...)
  problems(dat)
Backtrace:
     ▆
  1. ├─testthat::expect_warning(...) at test-load_session_mapping.R:281:3
  2. │ └─testthat:::expect_condition_matching(...)
  3. │   └─testthat:::quasi_capture(...)
  4. │     ├─testthat (local) .capture(...)
  5. │     │ └─base::withCallingHandlers(...)
  6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
  7. ├─engager:::load_session_mapping(temp_file, validate_mapping = TRUE) at test-load_session_mapping.R:283:7
  8. │ └─engager:::load_mapping_file(mapping_file) at zoomstudentengagement/R/load_session_mapping.R:80:3
  9. │   └─readr::read_csv(...) at zoomstudentengagement/R/load_session_mapping.R:28:3
 10. │     └─vroom::vroom(...)
 11. │       └─vroom:::vroom_(...)
 12. └─cli (local) `<fn>`(`<chr>`, "vroom_parse_issue")
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | load_transcript_files_list                                     
✔ |         12 | load_transcript_files_list

⠏ |          0 | load_zoom_recorded_sessions_list                               
✔ |         21 | load_zoom_recorded_sessions_list

⠏ |          0 | load_zoom_transcript-schema                                    
✔ |          2 | load_zoom_transcript-schema

⠏ |          0 | load_zoom_transcript                                           
⠙ |         22 | load_zoom_transcript                                           
✔ |         22 | load_zoom_transcript

⠏ |          0 | lookup_merge_utils-comprehensive                               
⠏ |   3     37 | lookup_merge_utils-comprehensive                               
✔ |   3     53 | lookup_merge_utils-comprehensive
────────────────────────────────────────────────────────────────────────────────
Warning ('test-lookup_merge_utils-comprehensive.R:49:3'): write_lookup_transactional handles different scenarios
Could not create backup for /var/folders/gm/wnk5gljx6yd_ffmqb8vf48qh0000gn/T//RtmpKEPupx/file99676be53063.csv - continuing without backup
Backtrace:
    ▆
 1. └─engager:::write_lookup_transactional(empty_data, temp_file) at test-lookup_merge_utils-comprehensive.R:49:3

Warning ('test-lookup_merge_utils-comprehensive.R:112:3'): lookup_merge_utils functions handle file system errors
cannot open file '/invalid/path/that/does/not/exist/test.csv.tmp.39271': No such file or directory
Backtrace:
     ▆
  1. ├─testthat::expect_error(...) at test-lookup_merge_utils-comprehensive.R:112:3
  2. │ └─testthat:::expect_condition_matching(...)
  3. │   └─testthat:::quasi_capture(...)
  4. │     ├─testthat (local) .capture(...)
  5. │     │ └─base::withCallingHandlers(...)
  6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
  7. └─engager:::write_lookup_transactional(test_data, invalid_path)
  8.   ├─utils::write.csv(df, tmp, row.names = FALSE, fileEncoding = "UTF-8") at zoomstudentengagement/R/lookup_merge_utils.R:127:3
  9.   │ └─base::eval.parent(Call)
 10.   │   └─base::eval(expr, p)
 11.   │     └─base::eval(expr, p)
 12.   └─utils::write.table(...)
 13.     └─base::file(file, ifelse(append, "a", "w"), encoding = fileEncoding)

Warning ('test-lookup_merge_utils-comprehensive.R:113:3'): lookup_merge_utils functions handle file system errors
cannot open file '/invalid/path/that/does/not/exist/test.csv.tmp.39271': No such file or directory
Backtrace:
     ▆
  1. ├─testthat::expect_error(...) at test-lookup_merge_utils-comprehensive.R:113:3
  2. │ └─testthat:::expect_condition_matching(...)
  3. │   └─testthat:::quasi_capture(...)
  4. │     ├─testthat (local) .capture(...)
  5. │     │ └─base::withCallingHandlers(...)
  6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
  7. └─engager:::conditionally_write_lookup(...)
  8.   └─engager:::write_lookup_transactional(df, path) at zoomstudentengagement/R/lookup_merge_utils.R:147:3
  9.     ├─utils::write.csv(df, tmp, row.names = FALSE, fileEncoding = "UTF-8") at zoomstudentengagement/R/lookup_merge_utils.R:127:3
 10.     │ └─base::eval.parent(Call)
 11.     │   └─base::eval(expr, p)
 12.     │     └─base::eval(expr, p)
 13.     └─utils::write.table(...)
 14.       └─base::file(file, ifelse(append, "a", "w"), encoding = fileEncoding)
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | make_blank_cancelled_classes_df                                
✔ |         26 | make_blank_cancelled_classes_df

⠏ |          0 | make_blank_section_names_lookup_csv                            
✔ |         11 | make_blank_section_names_lookup_csv

⠏ |          0 | make_clean_names_df-comprehensive                              
⠙ |   4      8 | make_clean_names_df-comprehensive                              
⠸ |   10     14 | make_clean_names_df-comprehensive                             
⠏ |   20     20 | make_clean_names_df-comprehensive                             
✔ |   22     22 | make_clean_names_df-comprehensive
────────────────────────────────────────────────────────────────────────────────
Warning ('test-make_clean_names_df-comprehensive.R:15:7'): make_clean_names_df handles input validation
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:13:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:15:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, time) at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:78:7'): make_clean_names_df handles different data_folder values
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:76:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:78:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:92:7'): make_clean_names_df handles different data_folder values
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:90:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:92:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:107:7'): make_clean_names_df handles different data_folder values
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:105:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:107:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:131:7'): make_clean_names_df handles different section_names_lookup_file values
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:129:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:131:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:146:7'): make_clean_names_df handles different section_names_lookup_file values
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:144:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:146:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:161:7'): make_clean_names_df handles different section_names_lookup_file values
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:159:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:161:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:187:7'): make_clean_names_df handles different roster_sessions structures
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:185:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:187:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:208:7'): make_clean_names_df handles different roster_sessions structures
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:206:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:208:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:228:7'): make_clean_names_df handles different roster_sessions structures
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:226:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:228:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:256:7'): make_clean_names_df handles different transcripts_metrics_df structures
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:254:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:256:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:279:7'): make_clean_names_df handles different transcripts_metrics_df structures
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:277:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:279:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:302:7'): make_clean_names_df handles edge cases
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:300:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:302:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:302:7'): make_clean_names_df handles edge cases
Unknown or uninitialised column: `course`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:300:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:302:7
 6.   ├─base::paste(result$course, result$section, sep = ".") at zoomstudentengagement/R/make_clean_names_df.R:66:5
 7.   ├─result$course at zoomstudentengagement/R/make_clean_names_df.R:66:5
 8.   └─tibble:::`$.tbl_df`(result, "course") at zoomstudentengagement/R/make_clean_names_df.R:66:5

Warning ('test-make_clean_names_df-comprehensive.R:302:7'): make_clean_names_df handles edge cases
Unknown or uninitialised column: `section`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:300:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:302:7
 6.   ├─base::paste(result$course, result$section, sep = ".") at zoomstudentengagement/R/make_clean_names_df.R:66:5
 7.   ├─result$section at zoomstudentengagement/R/make_clean_names_df.R:66:5
 8.   └─tibble:::`$.tbl_df`(result, "section") at zoomstudentengagement/R/make_clean_names_df.R:66:5

Warning ('test-make_clean_names_df-comprehensive.R:302:7'): make_clean_names_df handles edge cases
Unknown or uninitialised column: `course`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:300:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:302:7
 6.   ├─result$course at zoomstudentengagement/R/make_clean_names_df.R:69:3
 7.   └─tibble:::`$.tbl_df`(result, "course") at zoomstudentengagement/R/make_clean_names_df.R:69:3

Warning ('test-make_clean_names_df-comprehensive.R:302:7'): make_clean_names_df handles edge cases
Unknown or uninitialised column: `section`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:300:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:302:7
 6.   ├─result$section at zoomstudentengagement/R/make_clean_names_df.R:70:3
 7.   └─tibble:::`$.tbl_df`(result, "section") at zoomstudentengagement/R/make_clean_names_df.R:70:3

Warning ('test-make_clean_names_df-comprehensive.R:323:7'): make_clean_names_df handles edge cases
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:321:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:323:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:347:7'): make_clean_names_df handles edge cases
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:345:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:347:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:370:7'): make_clean_names_df handles parameter combinations
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:368:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:370:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:386:7'): make_clean_names_df handles parameter combinations
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:384:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:386:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3

Warning ('test-make_clean_names_df-comprehensive.R:413:7'): make_clean_names_df handles large datasets
Unknown or uninitialised column: `time`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-make_clean_names_df-comprehensive.R:411:3
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. └─engager:::make_clean_names_df(...) at test-make_clean_names_df-comprehensive.R:413:7
 6.   ├─result$time at zoomstudentengagement/R/make_clean_names_df.R:58:3
 7.   └─tibble:::`$.tbl_df`(result, "time") at zoomstudentengagement/R/make_clean_names_df.R:58:3
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | make_clean_names_df                                            
⠙ |         12 | make_clean_names_df                                            
✔ |         21 | make_clean_names_df

⠏ |          0 | make_student_roster_sessions                                   
✔ |         19 | make_student_roster_sessions

⠏ |          0 | make_students_only_transcripts_summary_df                      
✔ |         11 | make_students_only_transcripts_summary_df

⠏ |          0 | make_transcripts_session_summary_df                            
✔ |          9 | make_transcripts_session_summary_df

⠏ |          0 | make_transcripts_summary_df-comprehensive                      
✔ |         32 | make_transcripts_summary_df-comprehensive

⠏ |          0 | make_transcripts_summary_df-coverage                           
✔ |         18 | make_transcripts_summary_df-coverage

⠏ |          0 | make_transcripts_summary_df                                    
⠙ |         42 | make_transcripts_summary_df                                    
⠇ |   5     84 | make_transcripts_summary_df                                    
✔ |   5    127 | make_transcripts_summary_df
────────────────────────────────────────────────────────────────────────────────
Warning ('test-make_transcripts_summary_df.R:247:3'): make_transcripts_summary_df handles missing columns gracefully
Unknown or uninitialised column: `duration`.
Backtrace:
    ▆
 1. ├─testthat::expect_warning(...) at test-make_transcripts_summary_df.R:247:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::make_transcripts_summary_df(session_summary_df)
 8.   ├─group_data$duration at zoomstudentengagement/R/make_transcripts_summary_df.R:45:9
 9.   └─tibble:::`$.tbl_df`(group_data, "duration") at zoomstudentengagement/R/make_transcripts_summary_df.R:45:9

Warning ('test-make_transcripts_summary_df.R:247:3'): make_transcripts_summary_df handles missing columns gracefully
Unknown or uninitialised column: `wordcount`.
Backtrace:
    ▆
 1. ├─testthat::expect_warning(...) at test-make_transcripts_summary_df.R:247:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::make_transcripts_summary_df(session_summary_df)
 8.   ├─group_data$wordcount at zoomstudentengagement/R/make_transcripts_summary_df.R:46:9
 9.   └─tibble:::`$.tbl_df`(group_data, "wordcount") at zoomstudentengagement/R/make_transcripts_summary_df.R:46:9

Warning ('test-make_transcripts_summary_df.R:247:3'): make_transcripts_summary_df handles missing columns gracefully
Unknown or uninitialised column: `duration`.
Backtrace:
    ▆
 1. ├─testthat::expect_warning(...) at test-make_transcripts_summary_df.R:247:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::make_transcripts_summary_df(session_summary_df)
 8.   ├─group_data$duration at zoomstudentengagement/R/make_transcripts_summary_df.R:43:9
 9.   └─tibble:::`$.tbl_df`(group_data, "duration") at zoomstudentengagement/R/make_transcripts_summary_df.R:43:9

Warning ('test-make_transcripts_summary_df.R:247:3'): make_transcripts_summary_df handles missing columns gracefully
Unknown or uninitialised column: `duration`.
Backtrace:
    ▆
 1. ├─testthat::expect_warning(...) at test-make_transcripts_summary_df.R:247:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::make_transcripts_summary_df(session_summary_df)
 8.   ├─group_data$duration at zoomstudentengagement/R/make_transcripts_summary_df.R:45:9
 9.   └─tibble:::`$.tbl_df`(group_data, "duration") at zoomstudentengagement/R/make_transcripts_summary_df.R:45:9

Warning ('test-make_transcripts_summary_df.R:247:3'): make_transcripts_summary_df handles missing columns gracefully
Unknown or uninitialised column: `wordcount`.
Backtrace:
    ▆
 1. ├─testthat::expect_warning(...) at test-make_transcripts_summary_df.R:247:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::make_transcripts_summary_df(session_summary_df)
 8.   ├─group_data$wordcount at zoomstudentengagement/R/make_transcripts_summary_df.R:46:9
 9.   └─tibble:::`$.tbl_df`(group_data, "wordcount") at zoomstudentengagement/R/make_transcripts_summary_df.R:46:9
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | mask_user_names_by_metric                                      
✔ |          9 | mask_user_names_by_metric

⠏ |          0 | name-matching                                                  
✔ |         35 | name-matching

⠏ |          0 | no-artifacts                                                   
✔ |          3 | no-artifacts

⠏ |          0 | normalize_name_for_matching                                    
✔ |          9 | normalize_name_for_matching

⠏ |          0 | onload-defaults                                                
✔ |         26 | onload-defaults

⠏ |          0 | participant-classification                                     
✔ |         13 | participant-classification

⠏ |          0 | performance-optimization                                       
⠋ |          1 | performance-optimization                                       
⠙ |         12 | performance-optimization                                       
⠸ |         14 | performance-optimization                                       
✔ |         16 | performance-optimization

⠏ |          0 | plot_users                                                     
⠙ |          2 | plot_users                                                     
✔ |          2 | plot_users

⠏ |          0 | privacy_audit-issue310                                         
✔ |          3 | privacy_audit-issue310

⠏ |          0 | privacy_audit                                                  
✔ |          2 | privacy_audit

⠏ |          0 | process_zoom_transcript                                        
✔ |          7 | process_zoom_transcript

⠏ |          0 | prompt_name_matching                                           
⠦ |         27 | prompt_name_matching                                           
⠙ |         32 | prompt_name_matching                                           
✔ |         34 | prompt_name_matching

⠏ |          0 | rmd-readonly-gate                                              
⠹ |          3 | rmd-readonly-gate                                              
✔ |          3 | rmd-readonly-gate

⠏ |          0 | safe_name_matching_workflow_coverage                           
⠴ |          6 | safe_name_matching_workflow_coverage                           
⠼ |   1     14 | safe_name_matching_workflow_coverage                           
⠴ |   3     23 | safe_name_matching_workflow_coverage                           
⠼ |   7     28 | safe_name_matching_workflow_coverage                           
⠸ |   9     35 | safe_name_matching_workflow_coverage                           
⠦ |   10     37 | safe_name_matching_workflow_coverage                          
⠦ |   13     64 | safe_name_matching_workflow_coverage                          
✔ |   13     77 | safe_name_matching_workflow_coverage
────────────────────────────────────────────────────────────────────────────────
Warning ('test-safe_name_matching_workflow_coverage.R:155:3'): safe_name_matching_workflow works with valid data
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:155:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:175:3'): safe_name_matching_workflow handles different privacy levels
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:175:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:185:3'): safe_name_matching_workflow handles different privacy levels
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:185:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:195:3'): safe_name_matching_workflow handles different privacy levels
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:195:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:214:3'): safe_name_matching_workflow handles unmatched names
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. ├─testthat::expect_error(...) at test-safe_name_matching_workflow_coverage.R:214:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::safe_name_matching_workflow(...)
 8.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:224:3'): safe_name_matching_workflow handles unmatched names
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. ├─testthat::expect_error(...) at test-safe_name_matching_workflow_coverage.R:224:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::safe_name_matching_workflow(...)
 8.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:224:3'): safe_name_matching_workflow handles unmatched names
Some names need matching. Privacy temporarily disabled for matching process.
Backtrace:
    ▆
 1. ├─testthat::expect_error(...) at test-safe_name_matching_workflow_coverage.R:224:3
 2. │ └─testthat:::expect_condition_matching(...)
 3. │   └─testthat:::quasi_capture(...)
 4. │     ├─testthat (local) .capture(...)
 5. │     │ └─base::withCallingHandlers(...)
 6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 7. └─engager:::safe_name_matching_workflow(...)
 8.   └─engager:::process_name_matching_workflow(...) at zoomstudentengagement/R/safe_name_matching_workflow.R:58:3
 9.     └─engager:::handle_unmatched_names(...) at zoomstudentengagement/R/safe_name_matching_workflow.R:548:5

Warning ('test-safe_name_matching_workflow_coverage.R:265:3'): safe_name_matching_workflow handles name mapping file issues
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:265:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:324:3'): safe_name_matching_workflow handles memory cleanup
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:324:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:353:5'): safe_name_matching_workflow handles diagnostic messages
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:353:5
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:389:3'): safe_name_matching_workflow handles complex name matching scenarios
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:389:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:428:3'): safe_name_matching_workflow handles international names
Missing columns in transcript data: user_name, message, timestamp
This may affect processing. Expected columns: user_name, message, timestamp
Backtrace:
    ▆
 1. └─engager:::safe_name_matching_workflow(...) at test-safe_name_matching_workflow_coverage.R:428:3
 2.   └─engager:::load_and_validate_transcript(transcript_file_path) at zoomstudentengagement/R/safe_name_matching_workflow.R:52:3

Warning ('test-safe_name_matching_workflow_coverage.R:648:7'): handle_unmatched_names handles different actions
Some names need matching. Privacy temporarily disabled for matching process.
Backtrace:
    ▆
 1. ├─testthat::with_mocked_bindings(...) at test-safe_name_matching_workflow_coverage.R:642:3
 2. ├─testthat::expect_error(...) at test-safe_name_matching_workflow_coverage.R:648:7
 3. │ └─testthat:::expect_condition_matching(...)
 4. │   └─testthat:::quasi_capture(...)
 5. │     ├─testthat (local) .capture(...)
 6. │     │ └─base::withCallingHandlers(...)
 7. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 8. └─engager:::handle_unmatched_names(...)
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | safe_name_matching_workflow                                    
⠧ |         38 | safe_name_matching_workflow                                    
✔ |   1     55 | safe_name_matching_workflow
────────────────────────────────────────────────────────────────────────────────
Warning ('test-safe_name_matching_workflow.R:335:7'): handle_unmatched_names works correctly
Some names need matching. Privacy temporarily disabled for matching process.
Backtrace:
    ▆
 1. ├─testthat::with_mocked_bindings(...) at test-safe_name_matching_workflow.R:332:3
 2. ├─testthat::expect_error(...) at test-safe_name_matching_workflow.R:335:7
 3. │ └─testthat:::expect_condition_matching(...)
 4. │   └─testthat:::quasi_capture(...)
 5. │     ├─testthat (local) .capture(...)
 6. │     │ └─base::withCallingHandlers(...)
 7. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 8. └─engager:::handle_unmatched_names(...)
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | schema-comprehensive                                           
✔ |         33 | schema-comprehensive

⠏ |          0 | schema                                                         
✔ |          3 | schema

⠏ |          0 | startup                                                        Welcome to engager!
- Start with: vignette('getting-started', package='engager')
- Core functions: vignette('essential-functions', package='engager')
- Sample data: system.file('extdata/transcripts', package='engager')
- Quick example: example(summarize_transcript_metrics)

To suppress this message: options(engager.show_startup = FALSE)

✔ |          4 | startup

⠏ |          0 | summarize_transcript_files-comprehensive                       
✔ |         40 | summarize_transcript_files-comprehensive

⠏ |          0 | summarize_transcript_files-duplicates                          
✔ |          1 | summarize_transcript_files-duplicates

⠏ |          0 | summarize_transcript_files                                     
⠏ |         40 | summarize_transcript_files                                     
✔ |         42 | summarize_transcript_files

⠏ |          0 | summarize_transcript_metrics_segfault                          === Testing summarize_transcript_metrics with minimal data ===
Input data dimensions: 4 x 8
Input data columns: transcript_file, comment_num, name, comment, start, end, duration, wordcount
Step 1: About to call summarize_transcript_metrics...
Step 2: Calling summarize_transcript_metrics...
Step 3: summarize_transcript_metrics completed successfully
Result dimensions: 2 x 13
=== Testing summarize_transcript_metrics with rlang::syms debugging ===
Step 1: Testing summarize_transcript_metrics function...
Step 2: Function completed successfully

✔ |      2   0 | summarize_transcript_metrics_segfault

⠏ |          0 | summarize_transcript_metrics                                   
✔ |   5     16 | summarize_transcript_metrics
────────────────────────────────────────────────────────────────────────────────
Warning ('test-summarize_transcript_metrics.R:130:9'): summarize_transcript_metrics works with different scenarios
Unknown or uninitialised column: `name`.
Backtrace:
     ▆
  1. ├─base::tryCatch(...) at test-summarize_transcript_metrics.R:128:5
  2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
  3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
  4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
  5. ├─base::do.call(summarize_transcript_metrics, scenario) at test-summarize_transcript_metrics.R:130:9
  6. └─engager (local) `<fn>`(transcript_df = `<tibble[,0]>`)
  7.   ├─...[] at zoomstudentengagement/R/summarize_transcript_metrics.R:70:5
  8.   ├─tibble:::`[.tbl_df`(...) at zoomstudentengagement/R/summarize_transcript_metrics.R:70:5
  9.   ├─transcript_df$name %in% unlist(names_exclude)
 10.   ├─transcript_df$name
 11.   └─tibble:::`$.tbl_df`(transcript_df, name)

Warning ('test-summarize_transcript_metrics.R:168:9'): summarize_transcript_metrics handles edge cases
Unknown or uninitialised column: `duration`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-summarize_transcript_metrics.R:166:5
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. ├─base::do.call(summarize_transcript_metrics, case) at test-summarize_transcript_metrics.R:168:9
 6. └─engager (local) `<fn>`(transcript_df = `<tibble[,2]>`)
 7.   ├─group_data$duration at zoomstudentengagement/R/summarize_transcript_metrics.R:104:7
 8.   └─tibble:::`$.tbl_df`(group_data, "duration") at zoomstudentengagement/R/summarize_transcript_metrics.R:104:7

Warning ('test-summarize_transcript_metrics.R:168:9'): summarize_transcript_metrics handles edge cases
Unknown or uninitialised column: `wordcount`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-summarize_transcript_metrics.R:166:5
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. ├─base::do.call(summarize_transcript_metrics, case) at test-summarize_transcript_metrics.R:168:9
 6. └─engager (local) `<fn>`(transcript_df = `<tibble[,2]>`)
 7.   ├─group_data$wordcount at zoomstudentengagement/R/summarize_transcript_metrics.R:105:7
 8.   └─tibble:::`$.tbl_df`(group_data, "wordcount") at zoomstudentengagement/R/summarize_transcript_metrics.R:105:7

Warning ('test-summarize_transcript_metrics.R:168:9'): summarize_transcript_metrics handles edge cases
Unknown or uninitialised column: `wordcount`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-summarize_transcript_metrics.R:166:5
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. ├─base::do.call(summarize_transcript_metrics, case) at test-summarize_transcript_metrics.R:168:9
 6. └─engager (local) `<fn>`(transcript_df = `<tibble[,2]>`)
 7.   ├─group_data$wordcount at zoomstudentengagement/R/summarize_transcript_metrics.R:105:7
 8.   └─tibble:::`$.tbl_df`(group_data, "wordcount") at zoomstudentengagement/R/summarize_transcript_metrics.R:105:7

Warning ('test-summarize_transcript_metrics.R:168:9'): summarize_transcript_metrics handles edge cases
Unknown or uninitialised column: `comment`.
Backtrace:
    ▆
 1. ├─base::tryCatch(...) at test-summarize_transcript_metrics.R:166:5
 2. │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)
 3. │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 4. │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)
 5. ├─base::do.call(summarize_transcript_metrics, case) at test-summarize_transcript_metrics.R:168:9
 6. └─engager (local) `<fn>`(transcript_df = `<tibble[,2]>`)
 7.   ├─group_data$comment at zoomstudentengagement/R/summarize_transcript_metrics.R:108:7
 8.   └─tibble:::`$.tbl_df`(group_data, "comment") at zoomstudentengagement/R/summarize_transcript_metrics.R:108:7
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | validate_privacy_compliance-comprehensive                      
⠴ |         46 | validate_privacy_compliance-comprehensive                      
✔ |         47 | validate_privacy_compliance-comprehensive

⠏ |          0 | validate_privacy_compliance                                    
✔ |         21 | validate_privacy_compliance

⠏ |          0 | write_metrics-comprehensive                                    
✔ |   3     23 | write_metrics-comprehensive
────────────────────────────────────────────────────────────────────────────────
Warning ('test-write_metrics-comprehensive.R:151:3'): write_metrics handles data with list columns
Converting list columns to JSON strings: metadata
Backtrace:
    ▆
 1. └─engager::write_metrics(test_data, path = tmp) at test-write_metrics-comprehensive.R:151:3
 2.   └─engager:::process_data_for_export(data, privacy_level, comments_format) at zoomstudentengagement/R/write_metrics.R:28:3

Warning ('test-write_metrics-comprehensive.R:202:3'): write_metrics handles file write errors gracefully
'raw = FALSE' but '/var/folders/gm/wnk5gljx6yd_ffmqb8vf48qh0000gn/T//RtmpKEPupx' is not a regular file
Backtrace:
     ▆
  1. ├─testthat::expect_error(write_metrics(test_data, path = tmp_dir)) at test-write_metrics-comprehensive.R:202:3
  2. │ └─testthat:::expect_condition_matching(...)
  3. │   └─testthat:::quasi_capture(...)
  4. │     ├─testthat (local) .capture(...)
  5. │     │ └─base::withCallingHandlers(...)
  6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
  7. └─engager::write_metrics(test_data, path = tmp_dir)
  8.   └─engager:::write_processed_data_to_file(export_data, what, path) at zoomstudentengagement/R/write_metrics.R:31:3
  9.     ├─utils::write.csv(export_data, path, row.names = FALSE) at zoomstudentengagement/R/write_metrics.R:92:3
 10.     │ └─base::eval.parent(Call)
 11.     │   └─base::eval(expr, p)
 12.     │     └─base::eval(expr, p)
 13.     └─utils::write.table(...)
 14.       └─base::file(file, ifelse(append, "a", "w"))

Warning ('test-write_metrics-comprehensive.R:202:3'): write_metrics handles file write errors gracefully
cannot open file '/var/folders/gm/wnk5gljx6yd_ffmqb8vf48qh0000gn/T//RtmpKEPupx': Is a directory
Backtrace:
     ▆
  1. ├─testthat::expect_error(write_metrics(test_data, path = tmp_dir)) at test-write_metrics-comprehensive.R:202:3
  2. │ └─testthat:::expect_condition_matching(...)
  3. │   └─testthat:::quasi_capture(...)
  4. │     ├─testthat (local) .capture(...)
  5. │     │ └─base::withCallingHandlers(...)
  6. │     └─rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
  7. └─engager::write_metrics(test_data, path = tmp_dir)
  8.   └─engager:::write_processed_data_to_file(export_data, what, path) at zoomstudentengagement/R/write_metrics.R:31:3
  9.     ├─utils::write.csv(export_data, path, row.names = FALSE) at zoomstudentengagement/R/write_metrics.R:92:3
 10.     │ └─base::eval.parent(Call)
 11.     │   └─base::eval(expr, p)
 12.     │     └─base::eval(expr, p)
 13.     └─utils::write.table(...)
 14.       └─base::file(file, ifelse(append, "a", "w"))
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | write_metrics-dir                                              
✔ |          2 | write_metrics-dir

⠏ |          0 | write_metrics-issue310                                         
✔ |          5 | write_metrics-issue310

⠏ |          0 | write_metrics                                                  
✔ |          3 | write_metrics

⠏ |          0 | write_section_names_lookup                                     
✔ |          6 | write_section_names_lookup

⠏ |          0 | write_transcripts_session_summary                              
✔ |          6 | write_transcripts_session_summary

⠏ |          0 | write_transcripts_summary                                      
✔ |          6 | write_transcripts_summary

══ Results ═════════════════════════════════════════════════════════════════════
Duration: 17.2 s

── Skipped tests (15) ──────────────────────────────────────────────────────────
• empty test (11): 'test-analyze_transcripts.R:90:1',
  'test-analyze_transcripts.R:231:1', 'test-analyze_transcripts.R:286:1',
  'test-analyze_transcripts.R:386:1', 'test-analyze_transcripts.R:478:1',
  'test-analyze_transcripts.R:565:1', 'test-analyze_transcripts.R:610:1',
  'test-consolidate_transcript_segfault.R:4:1',
  'test-consolidate_transcript_segfault.R:64:1',
  'test-summarize_transcript_metrics_segfault.R:4:1',
  'test-summarize_transcript_metrics_segfault.R:64:1'
• Interactive mode testing requires manual verification (3):
  'test-create_session_mapping.R:425:3', 'test-create_session_mapping.R:430:3',
  'test-create_session_mapping.R:435:3'
• Skipping empty zoom recordings test due to data handling issues (1):
  'test-load_session_mapping.R:254:3'

[ FAIL 0 | WARN 61 | SKIP 15 | PASS 2204 ]
